<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Exo 4 JS</title>
	<link rel="stylesheet" href="style.css" />
</head>

<body>

	<div id="container">
		<div id="zone15">

		</div>
	</div>
	<script>
		container = document.getElementById("container")
		zone15 = document.getElementById("zone15")
		const couleurs = ["green", "red", "blue", "purple", "pink", "aqua", "darksalmon", "darkorchid", "lightcoral", "mediumseagreen", "plum", "peru", "yellow", "lime", "cornflowerblue", "crimson", "burlywood", "goldenrod", "paleturquoise", "mediumslateblue"]
		carre = document.createElement("div")
		carre.classList.add("carre")
		var i = 0
		var unCarre
		document.querySelector("body").addEventListener("keydown", function (event) { //pointer sur le body car l'enregistrement des touche se fait soit sur le body ou sur un input ,un focus ne peut se faire sur une div.
			const randomCouleurs = Math.floor(Math.random() * couleurs.length)
			const key = event.code;
			if (i == 0) {
				switch (key) {
					case "ArrowUp":
						alert("Il n'a rien a enlever andouille")
						break
					case "ArrowDown":
						let newcarre = carre.cloneNode()
						newcarre.style.backgroundColor = couleurs[randomCouleurs]
						zone15.appendChild(newcarre)
						i++
						break
				}
			}
			else if (i > 0 && i < 225) {
				switch (key) {
					case "ArrowUp":
						var allCarre = document.querySelectorAll(".carre")
						var lastCarre = allCarre[allCarre.length - 1]
						lastCarre.remove()
						i--
						break
					case "ArrowDown":
						let newcarre = carre.cloneNode()
						newcarre.style.backgroundColor = couleurs[randomCouleurs]
						zone15.appendChild(newcarre)
						i++
						break
				}
			}
			else if (i == 225) {
				carreSmiley()
				i++
				/*switch (allCarre[a]) {
					case 0 <= a <= 4 || 10 <= a <= 17 || 27 <= a <= 31 || 43 <= a <= 45 || 59 <= a <= 60:
						allCarre[a].style.backgroundColor = "white"
						break
					case 5 <= a <= 9 || 18 <= a <= 19 || 25 <= a <= 26 || a == 32 || a == 42 || a == 46 || a == 58:
						break
					case 5 <= a <= 9 || 20 <= a <= 24 || 33 <= a <= 41 || 47 <= a <= 57:
						break
				}*/
			}
		})
		function carreSmiley() {
			var allCarre = document.getElementsByClassName("carre")
			for (a = 0; a < allCarre.length; a++) {
				(function() {
					unCarre = allCarre[a]
					unCarre.classList.add("cursor")
					unCarre.classList.add("n"+a)
					if (0 <= a <= 4) {
						console.log(unCarre)
						console.log(allCarre[a])
						unCarre.addEventListener("click", function () {
							console.log(unCarre)
							console.log(allCarre[a])
							unCarre.style.backgroundColor = "white"
						})
					}
					else if (5 <= a <= 9) {
						console.log(unCarre)
						console.log(allCarre[a])
						unCarre.addEventListener("click", function () {
							console.log(unCarre)
							console.log(allCarre[a])
							unCarre.style.backgroundColor = "black"
						})
					}
					else {
						console.log(unCarre)
						console.log(allCarre[a])
						unCarre.addEventListener("click", function () {
							console.log(unCarre)
							console.log(allCarre[a])
							unCarre.style.backgroundColor = "yellow"
						})
					}
				}())

				/*

				Autre tentaive non fonctionnel

				function carreSmiley() {
					var allCarre = document.getElementsByClassName("carre")
					for (a = 0; a < allCarre.length; a++){
						(function() {
							allCarre[a].classList.add("cursor")
							unCarre = allCarre[a]
							allCarre[a].addEventListener("click", function (){
								console.log(unCarre);
								if (0 <= a <= 4) {
									allCarre[a].style.backgroundColor = null
									allCarre[a].style.backgroundColor = "white"
									allCarre[a].classList.remove("cursor")
								}
								else if (5 <= a <= 9) {
									allCarre[a].style.backgroundColor = null
									allCarre[a].style.backgroundColor = "black"
									allCarre[a].classList.remove("cursor")
								}
								else {
									allCarre[a].style.backgroundColor = null
									allCarre[a].style.backgroundColor = "yellow"
									allCarre[a].classList.remove("cursor")
							}
							})
						}())
					}
				}
						
				*/

				/*
				var allCarre = document.getElementsByClassName("carre")
				allCarre.addEventListener("click", function () {
					for (a = 0; a < allCarre.length; a++) {
						unCarre = allCarre[a]
						unCarre.classList.add("cursor")
						if (0 <= a <= 4) {
							unCarre.style.backgroundColor = "white"
							console.log(unCarre)
						}
						else if (5 <= a <= 9) {
							unCarre.style.backgroundColor = "black"
							console.log(unCarre)
						}
						else {
							unCarre.style.backgroundColor = "yellow"
							console.log(unCarre)
						}
					}
				})
				*/

				/*console.log(a)
				console.log(0 <= a && a <= 4)
				console.log(allCarre)
				console.log(allCarre[a])*/
			}
		}
	</script>

</body>

</html>